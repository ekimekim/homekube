network map:
	hosts will be on the home 192.168.42.0/24 as normal
	services: 192.168.43.0/24
	pods: 192.168.64.0/19
		with each node having a /24 within that
the tutorials i'm following are using this network map:
	hosts: 10.240.0.0/24
		with masters on 10.240.0.{10,11,12}
		and workers on 10.240.0.{20,21,22} (with pod ranges 10.200.{0,1,2}.0/24 respectively)
	pods: 10.200.0.0/16
	services: 10.32.0.0/24

File structure:
	ca/ - certificate management, CSRs, certs and keys
		nodes/ - certs for specific nodes
	generated-files - general generated yaml files, eg. configs
	files/ - general non-generated files, eg. configs
	kubeconfigs/ - kubeconfig files
		nodes/ - kubeconfigs for specific nodes
	manifests/ - api objects to deploy to the cluster
	secrets/ - files generated by scripts, generally random keys, etc.
	static-pods/ - Pod objects that are not deployed via apiserver but run as static kubelet pods

deferred for now: API server should be HA
	this requires a HA IP (eg. with keepalived)
	for now will just hard-code charm for critical components (etcd, api server)

next problem: pods are getting 192.168.43.0/24 ips, even though that's for services.
	This is due to containerd's CNI configuration under /etc/cni/net.d/10-k8s.conflist
		{
			"cniVersion": "1.0.0",
			"name": "k8s",
			"plugins": [
				{
					"type": "bridge",
					"bridge": "k8s",
					"isDefaultGateway": true,
					"ipMasq": true,
					"hairpinMode": true,
					"ipam": {
						"type": "host-local",
						"subnet": "192.168.43.0/24"
					}
				},
				{
					"type": "portmap",
					"capabilities": {"portMappings": true}
				}
			]
		}
	This is required node-level setup that I didn't talk about before(?)

TODO:
	prometheus
		prometheus can't scrape controller-manager or scheduler (403)
		scrape itself
	grafana
		non-shitty grafana home.json dashboard
		dashboards in code
		grafana should ideally reach a point it has no state
			auth - is there a better option than hard-coded password? probably not.
		prom scrape
	alertmanager
	logging
	refactor manifest layout to group things under namespaces
